2019-03-22T16:26:15.385+0800 I COMMAND  [conn578] command cashLoan.jobs command: findAndModify { findAndModify: "jobs", query: { userId: "5af068fd0cb981001b589047", type: "devicesRisk", status: "pending" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553243175195), params: { os: "android", tokenKey: "6cc9e809-a31c-4c90-87cc-f4547fdcb244" }, type: "devicesRisk", idCard: "320481198903223610", phone: "13800138000", userId: "5af068fd0cb981001b589047" }, $setOnInsert: { __v: 0, createdAt: new Date(1553243175195), eventType: "", count: 0, _id: ObjectId('5c949c2774d0c20015228bca') } }, lsid: { id: UUID("2b3fd3f5-4499-46fe-b7e4-ba53592f7465") }, $db: "cashLoan" } planSummary: IXSCAN { userId: 1 } keysExamined:46 docsExamined:46 nMatched:1 nModified:1 numYields:6 reslen:400 locks:{ Global: { acquireCount: { r: 7, w: 7 } }, Database: { acquireCount: { w: 7 } }, Collection: { acquireCount: { w: 7 } } } protocol:op_query 187ms
2019-03-25T11:57:40.916+0800 I COMMAND  [conn36] command cashLoan.jobs command: findAndModify { findAndModify: "jobs", query: { userId: "5af068fd0cb981001b589047", type: "devicesRisk", status: "pending" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553486260445), params: { os: "android", tokenKey: "894f71b7-55fd-4976-b8f5-17488ac1a54f" }, type: "devicesRisk", idCard: "320481198903223610", phone: "13800138000", userId: "5af068fd0cb981001b589047" }, $setOnInsert: { __v: 0, createdAt: new Date(1553486260445), eventType: "", count: 0, _id: ObjectId('5c9851b47471f600219fcdf1') } }, lsid: { id: UUID("95664f72-7f42-4829-9732-044785cf1df8") }, $db: "cashLoan" } planSummary: IXSCAN { userId: 1 } keysExamined:46 docsExamined:46 nMatched:1 nModified:1 numYields:11 reslen:400 locks:{ Global: { acquireCount: { r: 12, w: 12 } }, Database: { acquireCount: { w: 12 } }, Collection: { acquireCount: { w: 12 } } } protocol:op_query 464ms
2019-03-25T19:01:56.964+0800 I WRITE    [conn1242] update cashLoan.loans command: { q: { _id: ObjectId('5c9496e38d5bd50014057c15') }, u: { $set: { amount: 0, correctionAmount: 0, loanPreRepaidFee: 60, machineAudit.warningPoint: [], machineFraudResult.hitDetail: [], machineFraudResult.warningPoint: [], manualAudit.codes: [], passFraudResult.hitDetail: [], repaidAmount: 844.7, repayBankcard: { _id: ObjectId('5af0691c0cb981001b589167'), bankcardNo: "6217001234567899543", phone: "13800138000", bankcode: "CCB", bankName: "中国建设银行" }, repayConfirmTime: new Date(1553511715756), repayTime: new Date(1553511715756), repaymentPlan: [], risk.tags: [], selfFraudResult.hitDetail: [], status: "repayed", type: "online", updatedAt: new Date(1553511715937), urgeOperator: "无" }, $inc: { __v: 1 } }, multi: false, upsert: false } planSummary: IDHACK keysExamined:1 docsExamined:1 nMatched:1 nModified:1 keysInserted:3 keysDeleted:3 numYields:1 locks:{ Global: { acquireCount: { r: 2, w: 2 } }, Database: { acquireCount: { w: 2 } }, Collection: { acquireCount: { w: 2 } } } 114ms
2019-03-26T18:40:02.367+0800 I COMMAND  [conn2373] command cashLoan.jobs command: findAndModify { findAndModify: "jobs", query: { userId: "5af068fd0cb981001b589047", type: "devicesRisk", status: "pending" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553596802232), params: { os: "android", tokenKey: "47c5c0aa-280e-42dc-a4e7-ec24fc95b9d3" }, type: "devicesRisk", idCard: "440301198802292721", phone: "18122256470", userId: "5af068fd0cb981001b589047" }, $setOnInsert: { __v: 0, createdAt: new Date(1553596802232), eventType: "", count: 0, _id: ObjectId('5c9a0182085984001f44b274') } }, lsid: { id: UUID("190df570-d929-4356-8ea9-23ffbc4f8e8b") }, $db: "cashLoan" } planSummary: IXSCAN { userId: 1 } keysExamined:46 docsExamined:46 nMatched:1 nModified:1 keysInserted:2 keysDeleted:2 numYields:0 reslen:400 locks:{ Global: { acquireCount: { r: 1, w: 1 } }, Database: { acquireCount: { w: 1 } }, Collection: { acquireCount: { w: 1 } } } protocol:op_query 133ms
2019-03-28T17:49:16.662+0800 I COMMAND  [conn4407] command ris.userOperations command: findAndModify { findAndModify: "userOperations", query: { userId: "5b7bd28b96db5500121988a2" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553766556489), idNo: "445281123456781617", userId: "5b7bd28b96db5500121988a2", sourceId: "5c9c989cf8e95900167ec9ca", callLogInfos: [], rootStatus: "unRoot", ip: "", simInfos: [], mediaInfo: { audioCount: 18, pictureCount: 6492, videoCount: 1 }, smsInfo: [], errorContent: [], gyroscope: [], type: "mediaInfo", inputInfo: [], smsTotalCount: 0, pageEndTime: 0, pageStartTime: 0, pageResidenceTime: 0, pageName: "", phone: "13765432109", mctAppId: "5a94cc92fe5c25001550da54", merchantId: "5a94cba0ff7a42000f631689" }, $setOnInsert: { __v: 0, createdAt: new Date(1553766556489), _enable: true, _id: ObjectId('5c9c989c7e533a001f9c9b95') } }, lsid: { id: UUID("1bd5b742-f0fb-4b30-aecb-72950a6cda1e") }, $db: "ris" } planSummary: IXSCAN { userId: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 keysInserted:1 keysDeleted:1 numYields:0 reslen:688 locks:{ Global: { acquireCount: { r: 3, w: 1 } }, Database: { acquireCount: { r: 1, w: 1 } }, Collection: { acquireCount: { r: 1, w: 1 } } } protocol:op_query 161ms
2019-03-28T17:50:18.771+0800 I COMMAND  [conn4414] command ris.behaviors command: findAndModify { findAndModify: "behaviors", query: { idNo: "445281123456781617" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553766618630), bqsFraudHitList: [ [], [ { hitRules: [ { decision: "Reject", ruleId: "482503", ruleName: "设备标识缺失", score: "0" } ], riskType: "suspiciousAction", strategyDecision: "Reject", strategyId: "2e95a5f1df94476398611f9e0c14ff21", strategyMode: "WorstMode", strategyName: "恶意注册策略", strategyScore: "0" } ], [ { hitRules: [ { decision: "Accept", memo: "相关应用数:8#应用详细:[QQ, 微信读书, 知乎, 支付宝, 网易云音乐, 微信, 搜狗输入法, 夸克浏览器]", ruleId: "482660", ruleName: "设备应用统计_生活类", score: "0" } ], riskType: "suspiciousAction", strategyDecision: "Accept", strategyId: "268f055a90de4c379b1410d4f57eb1c2", strategyMode: "WorstMode", strategyName: "用户习惯类策略", strategyScore: "0" } ] ], bqsFraudResult: [ { eventType: "login", decision: "Accept" }, { eventType: "register", decision: "Reject" }, { eventType: "verify", decision: "Accept" } ], userId: "5b7bd28b96db5500121988a2", idNo: "445281123456781617" }, $setOnInsert: { __v: 0, createdAt: new Date(1553766618630), _enable: true, phone: null, agreementWithFriendArea: null, agreementWithMobileAscription: null, callsMoreThan200Month: [], callsMoreThan200MonthCount: null, callsMoreThan500Month: [], callsMoreThan500MonthCount: null, callsAtNightTimes: null, loanTime: null, loanDate: null, activeArea: null, callTimes: null, callProportion: null, notCallAndSmsDayCount: null, notCallAndSmsThreeDayCount: null, call110Times: null, call120Times: null, receiveMsgCount: null, sendMsgCount: null, consumptionTimes: null, mnoSinglePaymentMax: null, callTimesAtMin: null, callTimesBelow5Min: null, callTimesBetween5And10Min: null, callTimesAbove10Min: null, callInTime: null, callOutTime: null, callInNoCount: null, callOutNoCount: null, tdFraudResult: null, tdFraudScore: null, tdHitList: [], orderIpCountry: null, orderIpProvince: null, orderIpCity: null, sensitiveMsgCount: null, _id: ObjectId('5c9c98da7e533a001f9c9ba7') } }, lsid: { id: UUID("1bd5b742-f0fb-4b30-aecb-72950a6cda1e") }, $db: "ris" } planSummary: IXSCAN { idNo: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 numYields:0 reslen:2005 locks:{ Global: { acquireCount: { r: 1, w: 1 } }, Database: { acquireCount: { w: 1 } }, Collection: { acquireCount: { w: 1 } } } protocol:op_query 136ms
2019-03-29T10:32:19.763+0800 I COMMAND  [conn4414] command ris.userOperations command: findAndModify { findAndModify: "userOperations", query: { userId: "5af0691c4d59470010299480" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1553826739634), idNo: "320481198903223610", userId: "5af0691c4d59470010299480", sourceId: "5c9d83b3f8e95900167ece19", callLogInfos: [], rootStatus: "unRoot", ip: "", simInfos: [], mediaInfo: {}, smsInfo: [ { _id: ObjectId('5c9d83b3f8e95900167ece1b'), smsContent: "【360借条】尾号0000用户，因您信*用良好，为您配置最高5万元的信*用额，日息最低2毛7，点击 t.cn/EA3Qk7f 领取，回T退订", smsSendTime: 1553819543869.0, smsSenderName: "未知", smsSenderPhone: "10692323946085843240", smsType: "接收" }, { _id: ObjectId('5c9d83b3f8e95900167ece1a'), smsContent: "开发者联盟 免费接入华为Push（消息推送）赢华为、荣耀手机活动倒计时。限时4月5日前报名并接入，可获3重福利�...", smsSendTime: 1553737806190.0, smsSenderName: "未知", smsSenderPhone: "10690333216888", smsType: "接收" } ], errorContent: [], gyroscope: [], type: "smsRecord", inputInfo: [], smsTotalCount: 18, pageEndTime: 0, pageStartTime: 0, pageResidenceTime: 0, pageName: "", phone: "1812222222", mctAppId: "5a94cc92fe5c25001550da54", merchantId: "5a94cba0ff7a42000f631689" }, $setOnInsert: { __v: 0, createdAt: new Date(1553826739634), _enable: true, _id: ObjectId('5c9d83b37e533a001f9c9d3f') } }, lsid: { id: UUID("dd7437e6-10c7-471e-ac2b-b26173ad214f") }, $db: "ris" } planSummary: IXSCAN { userId: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 keysInserted:2 keysDeleted:2 numYields:0 reslen:1349 locks:{ Global: { acquireCount: { r: 3, w: 1 } }, Database: { acquireCount: { r: 1, w: 1 } }, Collection: { acquireCount: { r: 1, w: 1 } } } protocol:op_query 123ms
2019-04-01T18:43:27.072+0800 I COMMAND  [conn4407] command ris.userOperations command: findAndModify { findAndModify: "userOperations", query: { userId: "5b7bd28b96db5500121988a2" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1554115406851), idNo: "445281123456781617", userId: "5b7bd28b96db5500121988a2", sourceId: "5ca1eb4e2b0ef40016b6efa2", callLogInfos: [], rootStatus: "unRoot", ip: "", simInfos: [], mediaInfo: {}, smsInfo: [ { _id: ObjectId('5ca1eb4e2b0ef40016b6efa8'), smsContent: "亲，你的记录五星，本店邀请你来帮做工，120-380/天左右，客户扣3001901786", smsSendTime: 1554076793640.0, smsSenderName: "未知", smsSenderPhone: "+85267559487", smsType: "接收" }, { _id: ObjectId('5ca1eb4e2b0ef40016b6efa7'), smsContent: "本操作需要客户密码认证，回复短信格式：MM#客户密码", smsSendTime: 1553851472631.0, smsSenderName: "未知", smsSenderPhone: "10001", smsType: "接收" }, { _id: ObjectId('5ca1eb4e2b0ef40016b6efa6'), smsContent: "ktvolte", smsReceiverName: "未知", smsReceiverPhone: "10001", smsSendTime: 1553851452189.0, smsType: "发送" }, { _id: ObjectId('5ca1eb4e2b0ef40016b6efa5'), smsContent: "中国电信诚邀您抢先升级VoLTE高清通话。通话更清晰，并可视频通话，更能边打电话边上网！VoLTE语音及视频资费�...", smsSendTime: 1553848057107.0, smsSenderName: "未知", smsSenderPhone: "10001", smsType: "接收" }, { _id: ObjectId('5ca1eb4e2b0ef40016b6efa4'), smsContent: "【360借条】尾号0000用户，因您信*用良好，为您配置最高5万元的信*用额，日息最低2毛7，点击 t.cn/EA3Qk7f 领取，回T退订", smsSendTime: 1553819543869.0, smsSenderName: "未知", smsSenderPhone: "10692323946085843240", smsType: "接收" }, { _id: ObjectId('5ca1eb4e2b0ef40016b6efa3'), smsContent: "开发者联盟 免费接入华为Push（消息推送）赢华为、荣耀手机活动倒计时。限时4月5日前报名并接入，可获3重福利�...", smsSendTime: 1553737806190.0, smsSenderName: "未知", smsSenderPhone: "10690333216888", smsType: "接收" } ], errorContent: [], gyroscope: [], type: "smsRecord", inputInfo: [], smsTotalCount: 22, pageEndTime: 0, pageStartTime: 0, pageResidenceTime: 0, pageName: "", phone: "13765432109", mctAppId: "5a94cc92fe5c25001550da54", merchantId: "5a94cba0ff7a42000f631689" }, $setOnInsert: { __v: 0, createdAt: new Date(1554115406851), _enable: true, _id: ObjectId('5ca1eb4e7e533a001f9c9f01') } }, lsid: { id: UUID("ed41a1f5-9b8b-473e-b091-59139b5ff419") }, $db: "ris" } planSummary: IXSCAN { userId: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 keysInserted:1 keysDeleted:1 numYields:0 reslen:2330 locks:{ Global: { acquireCount: { r: 1, w: 1 } }, Database: { acquireCount: { w: 1 } }, Collection: { acquireCount: { w: 1 } } } protocol:op_query 217ms
2019-04-01T18:50:15.034+0800 I COMMAND  [conn8115] command cashLoan.jobs command: findAndModify { findAndModify: "jobs", query: { userId: "5b3b1a4ff33af4001a0237b8", type: "devicesRisk", status: "pending" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1554115814907), params: { os: "android", tokenKey: "ff4fbf5e-a4cd-41a1-ae3a-563ddfa15cc6" }, type: "devicesRisk", idCard: "445281123456781617", phone: "13765432109", userId: "5b3b1a4ff33af4001a0237b8" }, $setOnInsert: { __v: 0, createdAt: new Date(1554115814907), eventType: "", count: 0, _id: ObjectId('5ca1ece60ed2960016005829') } }, lsid: { id: UUID("d439eaf9-d629-4a5c-92fe-40fe4b5c485f") }, $db: "cashLoan" } planSummary: IXSCAN { userId: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 numYields:0 reslen:400 locks:{ Global: { acquireCount: { r: 1, w: 1 } }, Database: { acquireCount: { w: 1 } }, Collection: { acquireCount: { w: 1 } } } protocol:op_query 123ms
2019-04-02T15:36:58.169+0800 I WRITE    [conn9019] update cashLoan.loans command: { q: { _id: ObjectId('5bcb77af457ea400166db59d'), __v: 2 }, u: { $set: { repaymentPlan.0.actualRepaymentAmount: 2440.46, repaymentPlan.0.overdueDays: 156, repaymentPlan.0.overdueFee: 1560, repaymentPlan.0.overdueInterest: 65.52, repaymentPlan.0.repaymentAmount: 2440.46, updatedAt: new Date(1554190617702) } }, multi: false, upsert: false } planSummary: IXSCAN { _id: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 keysInserted:1 keysDeleted:1 numYields:1 locks:{ Global: { acquireCount: { r: 2, w: 2 } }, Database: { acquireCount: { w: 2 } }, Collection: { acquireCount: { w: 2 } } } 465ms
2019-04-03T17:11:53.331+0800 I COMMAND  [conn4414] command ris.behaviors command: findAndModify { findAndModify: "behaviors", query: { idNo: "445281234567881216" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1554282713204), bqsFraudHitList: [ [ { hitRules: [ { decision: "Accept", memo: "总数:3,网贷类:3", ruleId: "645569", ruleName: "获取数据 过去六个月身份证全网多头信贷类应用去重个数", score: "0" }, { decision: "Accept", memo: "总数:27,网贷类:27", ruleId: "645566", ruleName: "获取数据 过去六个月手机号全网多头信贷类应用去重个数", score: "0" }, { decision: "Accept", memo: "总数:1,网贷类:1", ruleId: "645568", ruleName: "获取数据 过去三个月身份证全网多头信贷类应用去重个数", score: "0" }, { decision: "Accept", memo: "总数:1,网贷类:1", ruleId: "645565", ruleName: "获取数据 过去三个月手机号全网多头信贷类应用去重个数", score: "0" } ], riskType: "multipleLoan", strategyDecision: "Accept", strategyId: "8706aba39afc418dae0a050ca67a9471", strategyMode: "WorstMode", strategyName: "多头风险策略新", strategyScore: "0" } ], [] ], bqsFraudResult: [ { eventType: "blacklist", decision: "Accept" }, { eventType: "login", decision: "Accept" } ], userId: "5afbe529e28b470010ef213b", idNo: "445281234567881216" }, $setOnInsert: { __v: 0, createdAt: new Date(1554282713204), _enable: true, phone: null, agreementWithFriendArea: null, agreementWithMobileAscription: null, callsMoreThan200Month: [], callsMoreThan200MonthCount: null, callsMoreThan500Month: [], callsMoreThan500MonthCount: null, callsAtNightTimes: null, loanTime: null, loanDate: null, activeArea: null, callTimes: null, callProportion: null, notCallAndSmsDayCount: null, notCallAndSmsThreeDayCount: null, call110Times: null, call120Times: null, receiveMsgCount: null, sendMsgCount: null, consumptionTimes: null, mnoSinglePaymentMax: null, callTimesAtMin: null, callTimesBelow5Min: null, callTimesBetween5And10Min: null, callTimesAbove10Min: null, callInTime: null, callOutTime: null, callInNoCount: null, callOutNoCount: null, tdFraudResult: null, tdFraudScore: null, tdHitList: [], orderIpCountry: null, orderIpProvince: null, orderIpCity: null, sensitiveMsgCount: null, _id: ObjectId('5ca478d97e533a001f9c9fad') } }, lsid: { id: UUID("b3f22572-8374-4fe7-8fb3-380e562436eb") }, $db: "ris" } planSummary: IXSCAN { idNo: 1 } keysExamined:1 docsExamined:1 nMatched:1 nModified:1 numYields:0 reslen:2113 locks:{ Global: { acquireCount: { r: 1, w: 1 } }, Database: { acquireCount: { w: 1 } }, Collection: { acquireCount: { w: 1 } } } protocol:op_query 125ms
2019-04-03T17:11:58.875+0800 I COMMAND  [conn4423] command ris.hitRuleInfos command: findAndModify { findAndModify: "hitRuleInfos", query: { idNo: "445281234567881216", flowNo: "190403171139E1F746DA7C4F34B87CE27FC30190403", ruleName: "用户百度信用分评估良好", strategyName: "百度风险名单策略" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1554282718707), dataSource: "decisions", idNo: "445281234567881216", userId: "5afbe529e28b470010ef213b", flowNo: "190403171139E1F746DA7C4F34B87CE27FC30190403", orderId: "", riskType: "suspiciousAction", score: 0, strategyScore: 0, strategyMode: "WorstMode", strategyDecision: "Accept", strategyId: "0dc69c11814d47b096584484d2fa7338", strategyName: "百度风险名单策略", memo: "百度信用分：587", decision: "Accept", ruleId: "235401", ruleName: "用户百度信用分评估良好" }, $setOnInsert: { __v: 0, createdAt: new Date(1554282718707), _enable: true, condition: [], _id: ObjectId('5ca478de358d7f001ae31764') } }, lsid: { id: UUID("5516e4e4-3392-49c5-89c7-881da7265689") }, $db: "ris" } planSummary: IXSCAN { flowNo: 1 } keysExamined:0 docsExamined:0 fromMultiPlanner:1 nMatched:0 nModified:0 upsert:1 keysInserted:8 numYields:1 reslen:700 locks:{ Global: { acquireCount: { r: 2, w: 2 } }, Database: { acquireCount: { w: 2 } }, Collection: { acquireCount: { w: 2 } } } protocol:op_query 165ms
2019-04-03T17:11:59.025+0800 I COMMAND  [conn4426] command ris.strategySetInfos command: findAndModify { findAndModify: "strategySetInfos", query: { idNo: "445281234567881216", flowNo: "190403171139E1F746DA7C4F34B87CE27FC30190403", strategyName: "百度风险名单策略" }, new: true, remove: false, upsert: true, fields: {}, update: { $set: { updatedAt: new Date(1554282718881), userId: "5afbe529e28b470010ef213b", idNo: "445281234567881216", dataSource: "decisions", finalScore: 0, flowNo: "190403171139E1F746DA7C4F34B87CE27FC30190403", finalDecision: "Accept", resultCode: "BQS000", eventType: "blacklist", orderId: "", reviewValue: null, rejectValue: null, strategyScore: 0, strategyName: "百度风险名单策略", strategyMode: "WorstMode", strategyId: "0dc69c11814d47b096584484d2fa7338", strategyDecision: "Accept", riskType: "suspiciousAction" }, $setOnInsert: { __v: 0, createdAt: new Date(1554282718881), _enable: true, zmCreditScore: null, strategySetName: null, tips: null, _id: ObjectId('5ca478de358d7f001ae31766') } }, lsid: { id: UUID("5516e4e4-3392-49c5-89c7-881da7265689") }, $db: "ris" } planSummary: IXSCAN { flowNo: 1 } keysExamined:0 docsExamined:0 fromMultiPlanner:1 nMatched:0 nModified:0 upsert:1 keysInserted:7 numYields:1 reslen:707 locks:{ Global: { acquireCount: { r: 2, w: 2 } }, Database: { acquireCount: { w: 2 } }, Collection: { acquireCount: { w: 2 } } } protocol:op_query 143ms
